@use "../../styles/index.scss" as *;

.report-page {
  min-height: 100vh;
  background-color: var(--color-bg);

  &__preview {
    padding: px(20);
    max-width: px(600);
    margin: 0 auto;
    background-color: var(--color-bg-secondary, #f5f5f5);
    border-top: px(1) solid var(--color-border);
    margin-top: px(32);
  }

  &__preview-header {
    margin-bottom: px(20);
    padding-bottom: px(16);
    border-bottom: px(1) solid var(--color-border);
  }

  &__preview-title {
    margin: 0 0 px(8) 0;
    font-weight: 700;
    color: var(--color-text);
  }

  &__preview-subtitle {
    margin: 0;
    color: var(--color-muted);
  }

  &__preview-content {
    display: flex;
    flex-direction: column;
    gap: px(16);
  }

  &__preview-row {
    display: flex;
    gap: px(16);
    align-items: flex-start;

    &--full {
      flex-direction: column;
      gap: px(8);
    }
  }

  &__preview-label {
    min-width: px(100);
    font-weight: 600;
    color: var(--color-text);
    flex-shrink: 0;
  }

  &__preview-value {
    flex: 1;
    min-width: 0;
  }

  &__preview-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: px(6);
  }

  &__preview-badge {
    display: inline-block;
    padding: px(4) px(12);
    background-color: var(--color-accent);
    color: #fff;
    border-radius: px(16);
    font-size: px(13);
    font-weight: 500;
  }

  &__preview-textarea-input {
    width: 100% !important;
    
    // Textarea 컴포넌트의 wrapper도 100% 너비
    .textarea-field {
      width: 100%;
    }
    
    .textarea-field__wrapper {
      width: 100%;
    }
    
    textarea {
      width: 100%;
    }
  }
  
  &__preview-row--full &__preview-value {
    width: 100%;
  }

  &__form {
    padding: px(20);
    max-width: px(600);
    margin: 0 auto;
  }

  &__section {
    margin-bottom: px(32);
  }

  &__category {
    display: flex;
    align-items: center;
    gap: px(12);
    padding: px(16);
    background-color: var(--color-bg-secondary, #f5f5f5);
    border-radius: px(8);
  }

  &__category-icon {
    width: px(48);
    height: px(48);
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-bg);
    border-radius: px(8);
    font-size: px(24);
  }

  &__category-text {
    display: flex;
    flex-direction: column;
    gap: px(4);
  }

  &__category-label {
    font-weight: 600;
  }

  &__label {
    margin-bottom: px(12);
    font-weight: 600;
    color: var(--color-text);
  }

  &__button-group {
    display: flex;
    flex-wrap: wrap;
    gap: px(8);
  }

  &__select-btn {
    min-width: px(100);
  }

  &__time-group {
    display: flex;
    gap: px(12);
  }

  &__time-wrapper {
    flex: 1;
    position: relative;
  }

  &__time-input {
    width: 100%;
    padding: px(12) px(16);
    background-color: var(--color-bg);
    border: px(1) solid var(--color-border);
    border-radius: px(8);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: border-color 0.2s ease;
    min-width: 0; // flex 아이템이 축소될 수 있도록

    &:hover {
      border-color: var(--color-accent);
    }

    // Typography 컴포넌트가 줄바꿈되지 않도록
    .typography {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      flex: 1;
      min-width: 0;
    }
  }

  &__time-icon {
    color: var(--color-muted);
    font-size: px(12);
  }

  &__date-picker-popover {
    position: absolute;
    top: calc(100% + px(8));
    left: 0;
    z-index: 1000;
    background-color: var(--color-bg);
    border: px(1) solid var(--color-border);
    border-radius: px(12);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    padding: px(16);
    min-width: px(300);
    max-width: calc(100vw - px(40));
  }

  &__date-picker-close {
    width: 100%;
    margin-top: px(12);
  }

  &__time-picker-popover {
    position: absolute;
    top: calc(100% + px(8));
    right: 0;
    z-index: 1000;
    background-color: var(--color-bg);
    border: px(1) solid var(--color-border);
    border-radius: px(12);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    padding: px(16);
    min-width: px(280);
    max-width: calc(100vw - px(40));
    max-height: px(400);
    overflow-y: auto;
  }

  &__time-picker-section {
    margin-bottom: px(16);

    &:last-of-type {
      margin-bottom: px(12);
    }
  }

  &__time-picker-label {
    margin-bottom: px(8);
    font-weight: 600;
    color: var(--color-text);
  }

  &__time-picker-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: px(6);
    max-height: px(200);
    overflow-y: auto;
    padding: px(4);
    margin: px(-4);
  }

  &__time-picker-minutes {
    display: flex;
    gap: px(8);
  }

  &__time-picker-btn {
    padding: px(8) px(12);
    background-color: var(--color-bg);
    border: px(1) solid var(--color-border);
    border-radius: px(8);
    cursor: pointer;
    font-size: px(13);
    color: var(--color-text);
    transition: all 0.2s ease;
    white-space: nowrap;

    &:hover {
      background-color: rgba(var(--color-accent-rgb), 0.1);
      border-color: var(--color-accent);
    }

    &.is-selected {
      background-color: var(--color-accent);
      color: #fff;
      border-color: var(--color-accent);
    }
  }

  &__time-picker-actions {
    display: flex;
    gap: px(8);
    margin-top: px(12);
    padding-top: px(12);
    border-top: px(1) solid var(--color-border);
  }

  &__textarea {
    width: 100%;
  }

  &__footer {
    background-color: var(--color-bg);
    border-top: px(1) solid var(--color-border);
    padding: px(16) px(20);
    margin-top: px(32);
  }

  &__checkboxes {
    display: flex;
    flex-direction: column;
    gap: px(12);
    margin-bottom: px(16);
    padding: px(12);
    background-color: var(--color-bg-secondary, #f5f5f5);
    border-radius: px(8);
  }

  &__submit-btn {
    width: 100%;
    font-size: px(16);
    font-weight: 600;
  }
}

